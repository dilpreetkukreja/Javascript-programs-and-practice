<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		///what happens when we use new keyword to create new objects eg we use statement , let person1 = new Person("dilpreet");

		/*
		//constrcutor function
		function Person(name){
			this.name = name;
		}

		Person.prototype.displayName = function(){
			console.log(this.name);
		}

		let person1 = new Person("dilpreet");

		person1.displayName();
		console.log(person1);
		*/
		//Steps
		/*
		1) its creates new object with nothing in it
		2) set the prototype of newly created object from the constructor prototype
		3) execute constructor with this
		4) return the newly created object
		*/
		function Person(name){
			this.name = name;
		}
		Person.prototype.displayName = function(){
			console.log(this.name);
		}

		function personFactory(constructor){
			//Step1: created new object
			let temp = {};
			//Step2: set prototype
			Object.setPrototypeOf(temp, constructor.prototype);
			//Step3: execute constructor with 'this'
			console.log(arguments);///its object
			console.log(typeof arguments)//object
			//converting object into array, as apply accepts array
			arrayArgs = Array.from(arguments);
			//slice is used to extract second parameter
			constructor.apply(temp, arrayArgs.slice(1));
			//Step4: return the object
			return temp;

		}
		
		let person1 = personFactory(Person, "dilpreet");
		console.log(person1);
		person1.displayName();














	</script>

</body>
</html>