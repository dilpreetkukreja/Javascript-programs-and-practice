<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div id="clickme">click me fast</div>
	<script type="text/javascript">
		let count = 1

		function generateParagraphs() {
		    const fragment = document.createDocumentFragment();

		    for (let i = 1; i <= 500; i++) {
		        const newElement = document.createElement('p');
		        newElement.textContent = 'This is paragraph number ' + count;
		        count = count + 1;

		        fragment.appendChild(newElement);
		    }

		    document.body.appendChild(fragment);

		    

		    if (count < 20000) {
		        setTimeout(generateParagraphs, 0);
		    }
		}
		let clickme = document.getElementById('clickme');
		clickme.addEventListener('click',function(){
		    	clickme.textContent = count;
	   	 })
		generateParagraphs();
	</script>

</body>
</html>