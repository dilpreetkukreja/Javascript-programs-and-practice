<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		//https://hackernoon.com/understanding-promises-in-javascript-13d99df067c1
		
		var keepsHisWord;
		keepsHisWord = true;
		promise1 = new Promise(function(resolve, reject) {
		  if (keepsHisWord) {
		    resolve("The man likes to keep his word");
		  } else {
		    reject("The man doesnt want to keep his word");
		  }
		});
		console.log(promise1);
		/*Promise {<resolved>: "The man likes to keep his word"}
		__proto__: Promise
		[[PromiseStatus]]: "resolved"
		[[PromiseValue]]: "The man likes to keep his word"
		*/

		/*var keepsHisWord2;
		keepsHisWord2 = false;
		promise2 = new Promise(function(resolve, reject) {
		  if (keepsHisWord2) {
		    resolve("The man likes to keep his word");
		  } else {
		    reject("The man doesnt want to keep his word");
		  }
		});
		console.log(promise2);*/
		/*Promise {<rejected>: "The man doesnt want to keep his word"}
		__proto__: Promise
		[[PromiseStatus]]: "rejected"
		[[PromiseValue]]: "The man doesnt want to keep his word"
		 this will also create a unhanded rejection chrome browser will show an error. 
		*/


		promise3 = new Promise(function(resolve, reject) {
		  setTimeout(function() {
		    resolve({
		      message: "The man likes to keep his word",
		      code: "aManKeepsHisWord"
		    });
		  }, 10 * 1000);
		});
		console.log(promise3);
		/*Promise {<pending>}__proto__: Promise[[PromiseStatus]]: "pending"[[PromiseValue]]: undefined
		*/

		/////////////////////////////////////////////////////////
		/*Here is a small story. You are a school going kid and you ask your mom for a phone. She says “I will buy a phone for this month end.”

		Let us look at how it will look in JavaScript if the promise gets executed at the end of the month.*/

		var momsPromise = new Promise(function(resolve, reject) {
		  momsSavings = 70000;
		  priceOfPhone = 60000;
		  if (momsSavings > priceOfPhone) {
		    resolve({
		      brand: "iphone",
		      model: "6s"
		    });
		  } else {
		    reject("We donot have enough savings. Let us save some more money.");
		  }
		});
		/*momsPromise.then(function(value) {
		  //console.log("Hurray I got this phone as a gift ", JSON.stringify(value));
		  console.log("Hurray I got this phone as a gift ", value);

		});
		momsPromise.catch(function(reason) {
		  console.log("Mom coudn't buy me the phone because ", reason);
		});
		momsPromise.finally(function() {
		  console.log(
		    "Irrespecitve of whether my mom can buy me a phone or not, I still love her"
		  );
		});*/
		//instead of above code we can write the below code ,its same

		momsPromise.then(
		  function(value) {
		    console.log("Hurray I got this phone as a gift ", JSON.stringify(value));
		  },
		  function(reason) {
		    console.log("Mom coudn't buy me the phone because ", reason);
		  }
		);


	</script>

</body>
</html>